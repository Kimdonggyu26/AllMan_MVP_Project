<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<!-- 취향번호 추가 해야해서 추가해봄 이건우 -->
<entry key="loginUser2">
	SELECT 
		   USER_NO
		 , USER_ID
		 , USER_PWD
	 	 , PHONE
	 	 , EMAIL
	 	 , USER_NICKNAME
	 	 , ENROLL_DATE
	 	 , MODIFY_DATE
	 	 , STATUS
	 	 , TASTE_NO
	 	 
	FROM 
 		   USERS
 WHERE
		   USER_ID = ?
	 AND USER_PWD = ?
	 AND STATUS IN ('A' ,'U')

 </entry>

<entry key="loginUser">
	SELECT 
		   USER_NO
		 , USER_ID
		 , USER_PWD
	 	 , PHONE
	 	 , EMAIL
	 	 , USER_NICKNAME
	 	 , ENROLL_DATE
	 	 , MODIFY_DATE
	 	 , STATUS
	 	 , U.TASTE_NO
	 	 , PROFILE_PATH
	 	 , TASTE_CODE
	 	 
	FROM 
 		   USERS U
  JOIN TASTE T ON U.TASTE_NO = T.TASTE_NO
 WHERE
		   U. USER_ID = ?
	 AND U. USER_PWD = ?
	 AND U. STATUS IN ('A' ,'U')

 </entry>
 
 <entry key="insertUser">
		INSERT
		  INTO USERS
		  (
		    USER_NO
		  , USER_ID
		  , USER_PWD
		  , PHONE
		  , EMAIL
		  ,USER_NICKNAME
		  ,ENROLL_DATE
		  ,MODIFY_DATE
		  ,STATUS
		  ,TASTE_NO
		  )
		  VALUES
		  (
		    SEQ_USERNO.NEXTVAL
		  , ?
		  , ?
		  , ?
		  , ?
		  , ? || '_' || SEQ_USERNO.CURRVAL
		  ,DEFAULT
		  ,DEFAULT
		  ,DEFAULT
		  ,20
		  )
	</entry>
	
	
	<entry key="idCheck">
		SELECT
				   COUNT(*) as COUNT
		  FROM
		  		 USERS
		 WHERE
		 			 USER_ID = ?
	</entry>
	

			 	<entry key="confirmnick">
			 	SELECT 
			 				COUNT(*) 
			 FROM 	
			 				users
			 WHERE 
			 				USER_NICKNAME = ?
			 	</entry>
			 	
		<entry key="deleteUser">
		UPDATE
					 USERS
			 SET
			 		 STATUS = 'R'
			 	 , MODIFY_DATE = SYSDATE
		 WHERE 
		 			 USER_ID = ?
		 	 AND USER_PWD = ?
	</entry>
	
	<entry key="finduserid">
SELECT USER_ID
  FROM USERS
 WHERE EMAIL = ?
   AND STATUS IN ('A','U')
    </entry>
    	<entry key="finduserpwd">
SELECT 
				USER_PWD
  FROM 
  			USERS
 WHERE 
 				USER_ID = ?
   
    </entry>
    <entry key="modifyuser">
    UPDATE 
   				USERS
     SET 
     			USER_NICKNAME = ?,
     		 EMAIL = ?, 
     		 PHONE = ? 
    WHERE USER_ID = ?;
    </entry>
    <entry key="updateuserprofile">
    UPDATE 
    				USERS
    SET 	
    				USER_NICKNAME = ?,
     				PROFILE_PATH = ? 
     WHERE USER_ID = ?
    
    </entry>
	<entry key="usernick">
		UPDATE 
					 USERS
			 SET 
					 USER_NICKNAME = ?
			
		 WHERE
					 USER_ID = ?
	</entry>
	
	<entry key="userTaste">
		UPDATE 
					 USERS
			 SET 
					 TASTE_NO = ?
			
		 WHERE
					 USER_ID = ?
	</entry>
</properties>